\documentclass[12pt,a4paper]{article}
\usepackage{polyglossia}
\usepackage{fontspec}
\usepackage{geometry}
\usepackage{amsmath}
\usepackage{graphicx}
\usepackage{xcolor}
\usepackage{hyperref}
\usepackage{bidi}
\usepackage{enumitem}
\usepackage{booktabs}

% --- Document Setup ---
\geometry{a4paper, margin=1in}
\setdefaultlanguage{english}
\setotherlanguage{farsi}

% --- Font Setup ---
\newfontfamily\arabicfont{Vazirmatn}

% --- Safe custom commands ---
\newcommand{\fa}[1]{\textfarsi{#1}}
\newcommand{\en}[1]{\textenglish{#1}}

\begin{document}

\section*{Test: Adding Booktabs Package}

\en{Professional table with booktabs:}

\begin{table}[h]
\centering
\begin{tabular}{lcc}
\toprule
\en{Feature} & \en{LaTeX} & \en{Word} \\
\midrule
\fa{پشتیبانی ریاضی} & \en{Excellent} & \en{Good} \\
\fa{تایپوگرافی} & \en{Excellent} & \en{Fair} \\
\fa{منحنی یادگیری} & \en{Steep} & \en{Easy} \\
\bottomrule
\end{tabular}
\caption{\fa{مقایسه ابزارها}}
\end{table}

\end{document}