\documentclass[12pt,a4paper]{article}
\usepackage{polyglossia}
\usepackage{fontspec}
\usepackage{geometry}
\usepackage{amsmath}
\usepackage{graphicx}

% --- Document Setup ---
\geometry{a4paper, margin=1in}
\setdefaultlanguage{english}
\setotherlanguage{farsi}

% --- Font Setup ---
\newfontfamily\arabicfont{Vazirmatn}

% --- Safe custom commands ---
\newcommand{\fa}[1]{\textfarsi{#1}}
\newcommand{\en}[1]{\textenglish{#1}}

\begin{document}

\section*{Test: Adding Table}

\en{English text with table:}

\begin{table}[h]
\centering
\begin{tabular}{|c|c|}
\hline
\en{English} & \fa{فارسی} \\
\hline
\en{Hello} & \fa{سلام} \\
\en{World} & \fa{دنیا} \\
\hline
\end{tabular}
\caption{\fa{جدول نمونه}}
\end{table}

\end{document}