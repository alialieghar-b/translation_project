\documentclass[12pt,a4paper]{article}
\usepackage{polyglossia}
\usepackage{fontspec}
\usepackage{geometry}
\usepackage{amsmath}
\usepackage{graphicx}
\usepackage{xcolor}
\usepackage{hyperref}

% --- Document Setup ---
\geometry{a4paper, margin=1in}
\setdefaultlanguage{english}
\setotherlanguage{farsi}

% --- Font Setup ---
\newfontfamily\arabicfont{Vazirmatn}

% --- Safe custom commands ---
\newcommand{\fa}[1]{\textfarsi{#1}}
\newcommand{\en}[1]{\textenglish{#1}}

\begin{document}

\section*{Test: Adding Bibliography}

\en{This is a citation \cite{sample2024}.}

\fa{این یک ارجاع است \cite{persian2024}.}

\begin{thebibliography}{9}

\bibitem{sample2024}
\en{Sample Author.}
\en{\textit{Sample Book Title}.}
\en{Publisher, 2024.}

\bibitem{persian2024}
\fa{نویسنده نمونه.}
\fa{\textit{عنوان کتاب نمونه}.}
\fa{انتشارات نمونه، ۱۴۰۳.}

\end{thebibliography}

\end{document}